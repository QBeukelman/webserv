

server {
	# === listener ===
	listen					127.0.0.1:8080;
    server_name				localhost;
	
	# === defaults ===
	client_max_body_size	10m;
	error_page 404 			/var/www/website/pages/error/404.html;

	# ---------------------------------------------------------
	# 1) Default location
	# ---------------------------------------------------------
	location / {
		root			/var/www;
		index			index.html;
		autoindex 		on;
		allow_methods 	GET POST DELETE;
	}

	# ---------------------------------------------------------
	# 2) Scripts
	#    Support for python
	# ---------------------------------------------------------
	location /scripts {
		root			/var/www;
		allow_methods	GET POST;
		cgi_map			.py /usr/bin/python3 /var/wwwscripts;
	}

	# ---------------------------------------------------------
	# 3) Uploads
	# ---------------------------------------------------------
	location /uploads {
		root			/var/wwwuploads;
		allow_methods	GET POST DELETE;
		upload_store	/var/wwwuploads;
		autoindex		on;
	}

	# ---------------------------------------------------------
	# 4) Redirect
	# --------------------------------------------------------
	location /redirect {
		return 			301 /;
	}
}

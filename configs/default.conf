

server {
	# === listener ===
	listen					127.0.0.1:8080;
	listen					127.0.0.1:8081;
	
    server_name				localhost;
	
	# === defaults ===
	client_max_body_size	10m;
	error_page 404 			./var/www/website/pages/error/404.html;

	# ---------------------------------------------------------
	# 1) Default location
	# ---------------------------------------------------------
	location / {
		root			./var/www;
		index			index.html;
		autoindex 		on;
		allow_methods 	GET POST;
	}

	# ---------------------------------------------------------
	# 2) Scripts
	#    Support for python
	# ---------------------------------------------------------
	location /scripts {
		root			./var/www;
		allow_methods	GET POST;

		#				1[.ext] 2[executable_path] 3[working_directory]
		cgi				.py		/usr/bin/python3	./var/www/scripts;
	}

	# ---------------------------------------------------------
	# 3) Uploads
	# ---------------------------------------------------------
	location /uploads {
		root			./var/www/uploads;
		allow_methods	GET POST DELETE;
		upload_store	./var/www/uploads;
		autoindex		on;
	}

	# ---------------------------------------------------------
	# 4) Redirect
	# --------------------------------------------------------
	location /redirect {
		return 			301 /;
	}

	# ---------------------------------------------------------
	# 5) Test files
	# ---------------------------------------------------------
	location /test_files {
		root			./var/www/test_files;
		index			index.html;
		autoindex 		on;
		allow_methods 	GET POST;

		client_max_body_size   	1000;
	}
}
